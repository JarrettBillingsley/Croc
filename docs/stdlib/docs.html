<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="text/javascript" http-equiv="content-script-type"><title>module docs</title><link rel="stylesheet" type="text/css" href="candydoc/style.css"><link rel="stylesheet" type="text/css" href="candydoc/code.css"><script language="JavaScript" src="candydoc/util.js" type="text/javascript"></script><script language="JavaScript" src="candydoc/tree.js" type="text/javascript"></script><script language="JavaScript" src="candydoc/explorer.js" type="text/javascript"></script></head><body><div id="everything"><div id="tabarea"></div><div id="explorerclient"></div><div id="content"><script>explorer.initialize("docs");</script>	<img src="candydoc/img/banner.gif" alt="The Croc Programming Language"></img>	<div id="docbody">		<h1>module docs</h1><p>This module contains the runtime interface to Croc's built-in documentation system. It defines the decorator function which the compiler can translate doc comments into, as well as the actual documentation processing functions. It also contains a basic doc outputting scaffold, so that you can output documentation in a human-readable format without much extra work.</p><script>explorer.outline.incSymbolLevel();</script><dl><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="_doc_"></a>global function _doc_(val: table|namespace|array|memblock|function|funcdef|class|instance|thread, doctable: table, vararg)<script>explorer.outline.addDecl('_doc_');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>This is a decorator function used to attach documentation tables to objects. The compiler can attach calls to this decorator to declarations in your code automatically by extracting documentation comments and information about the declarations from the code.</p><p>Once the documentation table has been set for an object, you can retrieve it with docsOf, which can then be further processed and output in a human-readable form (for instance, by using the various doc output classes).</p><p>This function is also exported in the global namespace so that you can access it unqualified (that is, both <tt>_doc_</tt> and <tt>docs._doc_</tt> refer to this function).</p><p><strong>Params:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">val</td><td><p>is the decorated object and can be any reference type.</p></td></tr><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">doctable</td><td><p>is a table, presumably one which matches the specifications for doc tables.</p></td></tr><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">vararg</td><td><p>should all be integers and are used to extract the correct sub-table from the root documentation table (the <tt>doctable</tt> parameter). So, for instance, using "<tt>@_doc_(someTable, 0, 2)</tt>" on a declaration would mean that the table <tt>someTable.children[0].children[2]</tt> would be used as the documentation for the decorated declaration. If no variadic arguments are given, the table itself is set as the documentation table of the object.</p></td></tr></table><p><strong>Returns:</strong> <p><tt>val</tt> as per the decorator protocol.</p><p><strong>Throws:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px"><a href="exceptions.html#TypeError">TypeError</a></td><td><p>if any of the <tt>varargs</tt> are not ints, or if the value that will be set as the doctable for <tt>val</tt> is not a table.</p></td></tr></table></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="docsOf"></a>global function docsOf(val)<script>explorer.outline.addDecl('docsOf');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>This retrieves the documentation table, if any, associated with an object.</p><p><strong>Params:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">val</td><td><p>is the object whose docs are to be retrieved. Any type is allowed, but only reference types can have documentation tables associated with them.</p><p>Some program elements can't have their docs directly retrieved with this function. See also <a href="docs.html#metamethodDocs">metamethodDocs</a> and <a href="docs.html#childDocs">childDocs</a>.</p></td></tr></table><p><strong>Returns:</strong> <p>the doc table for <tt>val</tt> if one has been set, or <tt>null</tt> if none has been set (or if <tt>val</tt> is a value type).</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="metamethodDocs"></a>global function metamethodDocs(type: string, method: string)<script>explorer.outline.addDecl('metamethodDocs');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>This retrieves the documentation table, if any, associated with a metamethod in a global type metatable.</p><p>Normally, without access to the debug lib, Croc code can't actually get a direct reference to these methods (such as the <tt>format</tt> method of strings). This function lets you get docs for those methods without the debug lib.</p><p><strong>Params:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">type</td><td><p>is the name of the built-in type you want to get the method's docs from.</p></td></tr><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">method</td><td><p>is the name of the method to get the docs of.</p></td></tr></table><p><strong>Returns:</strong> <p>the doc table for the given method if one has been set, or <tt>null</tt> if not.</p><p><strong>Throws:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px"><a href="exceptions.html#ValueError">ValueError</a></td><td><p>if <tt>type</tt> does not name a valid built-in type, or if <tt>type</tt> has no metatable set for it.</p></td></tr><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px"><a href="exceptions.html#FieldError">FieldError</a></td><td><p>if there is no method named <tt>method</tt> in <tt>type</tt>'s metatable.</p></td></tr></table></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="childDocs"></a>global function childDocs(obj: class|namespace, child: string)<script>explorer.outline.addDecl('childDocs');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>This retrieves the documentation table, if any, associated with a child element of a class or namespace.</p><p>Functions defined in classes and namespaces can have their docs accessed directly, but for other fields, you have to access their doc tables through their parents' <tt>children</tt> doctable member. This function automates that for you.</p><p><strong>Params:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">obj</td><td><p>is the class or namespace in which the field is defined.</p></td></tr><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">child</td><td><p>is the name of the field whose docs you want to retrieve. Any field name is valid, not just non-functions.</p></td></tr></table><p><strong>Returns:</strong> <p>the doc table for the given field if one has been set, or <tt>null</tt> if not.</p><p><strong>Throws:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px"><a href="exceptions.html#ValueError">ValueError</a></td><td><p>if <tt>obj</tt> has no child named <tt>child</tt>, or if <tt>obj</tt> has no doctable.</p></td></tr></table></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="processComment"></a>global function processComment(comment: string, doctable: table)<script>explorer.outline.addDecl('processComment');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Low-level function which takes the raw text from a doc comment and a doctable (with no docs member) and parses the doc comment, adding the appropriate members to the given doctable.</p><p>This is actually the same function that the compiler itself calls to process doc comments. Note that the doctable that is to be passed to this function must be properly formed (with all the "standard" members, as well as any extra kind-specific members as defined in the doc comment spec), but there must be no "docs" members at all. The "docs" members, as well as members for other sections, will be filled in by this function.</p><p><strong>Params:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">comment</td><td><p>is the raw text of the doc comment.</p></td></tr><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">doctable</td><td><p>is the doctable as explained above.</p></td></tr></table><p><strong>Returns:</strong> <p>the <tt>doctable</tt> parameter.</p><p><strong>Throws:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px"><a href="exceptions.html#SyntaxException">SyntaxException</a></td><td><p>if parsing the comment failed. Note that in this case the <tt>doctable</tt> may be partially filled-in.</p></td></tr></table></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="parseCommentText"></a>global function parseCommentText(comment: string)<script>explorer.outline.addDecl('parseCommentText');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Takes a string containing Croc doc comment markup, and parses it into a paragraph list.</p><p>This doesn't parse the whole text of a doc comment; rather it just parses one or more paragraphs of text. Section commands are not allowed to appear in the text. Span and text structure commands, however, are valid.</p><p><strong>Params:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">comment</td><td><p>is the raw markup to be parsed.</p></td></tr></table><p><strong>Returns:</strong> <p>an array which is a paragraph list as defined in the doc comment spec.</p><p><strong>Throws:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px"><a href="exceptions.html#SyntaxException">SyntaxException</a></td><td><p>if parsing failed.</p></td></tr></table></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor"></a>class DocVisitor<script>explorer.outline.addDecl('DocVisitor');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>A class which defines a simple interface for visiting all the elements in a doctable. You can use this as a base class for your own visitors to do things like output docs in various formats.</p><p>By default this class doesn't do much, but it does remove some of the boilerplate involved in dispatching to the various methods. Some methods are unimplemented and must be defined in a derived class in order to work.</p><p>Note that there is another class, <a href="doctools.output.html#OutputDocVisitor">doctools.output.OutputDocVisitor</a>, which implements this class's interface in a way that makes making document outputters easier.</p><script>explorer.outline.incSymbolLevel();</script><dl><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitItem"></a>function DocVisitor.visitItem(item: table)<script>explorer.outline.addDecl('DocVisitor.visitItem');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits one program item's doctable. This dispatches based on <tt>item.kind</tt> to one of the six methods after this one.</p><p><strong>Throws:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px"><a href="exceptions.html#ValueError">ValueError</a></td><td><p>if the given doctable has an invalid <tt>kind</tt> field.</p></td></tr></table></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitModule"></a>function DocVisitor.visitModule(item: table)<script>explorer.outline.addDecl('DocVisitor.visitModule');</script></span><br/><span class="decl"><a id="DocVisitor.visitClass"></a>function DocVisitor.visitClass(item: table)<script>explorer.outline.addDecl('DocVisitor.visitClass');</script></span><br/><span class="decl"><a id="DocVisitor.visitNamespace"></a>function DocVisitor.visitNamespace(item: table)<script>explorer.outline.addDecl('DocVisitor.visitNamespace');</script></span><br/><span class="decl"><a id="DocVisitor.visitFunction"></a>function DocVisitor.visitFunction(item: table)<script>explorer.outline.addDecl('DocVisitor.visitFunction');</script></span><br/><span class="decl"><a id="DocVisitor.visitField"></a>function DocVisitor.visitField(item: table)<script>explorer.outline.addDecl('DocVisitor.visitField');</script></span><br/><span class="decl"><a id="DocVisitor.visitVariable"></a>function DocVisitor.visitVariable(item: table)<script>explorer.outline.addDecl('DocVisitor.visitVariable');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>These methods are called by <a href="docs.html#DocVisitor.visitItem">visitItem</a>. You must implement these methods yourself.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitChildren"></a>function DocVisitor.visitChildren(item: table)<script>explorer.outline.addDecl('DocVisitor.visitChildren');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>A convenience method for doctables which have children (such as modules, classes, and namespaces). This just loops over the doctable's <tt>children</tt> field and calls <a href="docs.html#DocVisitor.visitItem">visitItem</a> on each one.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitPlist"></a>function DocVisitor.visitPlist(plist: array)<script>explorer.outline.addDecl('DocVisitor.visitPlist');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>A convenience method for visiting a list of paragraphs (plist). This just loops over the plist and calls <a href="docs.html#DocVisitor.visitParagraph">visitParagraph</a> on each one.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitParagraph"></a>function DocVisitor.visitParagraph(par: array)<script>explorer.outline.addDecl('DocVisitor.visitParagraph');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits one paragraph of documentation. By default, just calls <a href="docs.html#DocVisitor.visitParagraphElements">visitParagraphElements</a> with <tt>par</tt> as the argument, but often you will want to do something at the beginning/end of a paragraph (such as insert indentation or newlines), so you can override this method to do so.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitParagraphElements"></a>function DocVisitor.visitParagraphElements(elems: array)<script>explorer.outline.addDecl('DocVisitor.visitParagraphElements');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits an array of paragraph elements. You can use this method to implement the text visitor methods which follow, and this method will dispatch to those visitor methods.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitText"></a>function DocVisitor.visitText(elem: string)<script>explorer.outline.addDecl('DocVisitor.visitText');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a segment of plain text that appears in a paragraph. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitCode"></a>function DocVisitor.visitCode(language: string, contents: string)<script>explorer.outline.addDecl('DocVisitor.visitCode');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a code snippet. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitVerbatim"></a>function DocVisitor.visitVerbatim(type: string, contents: string)<script>explorer.outline.addDecl('DocVisitor.visitVerbatim');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a verbatim block. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitBlist"></a>function DocVisitor.visitBlist(items: array)<script>explorer.outline.addDecl('DocVisitor.visitBlist');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a bulleted list. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitNlist"></a>function DocVisitor.visitNlist(type: string, items: array)<script>explorer.outline.addDecl('DocVisitor.visitNlist');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a numbered list. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitDlist"></a>function DocVisitor.visitDlist(items: array)<script>explorer.outline.addDecl('DocVisitor.visitDlist');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a definition list. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitTable"></a>function DocVisitor.visitTable(rows: array)<script>explorer.outline.addDecl('DocVisitor.visitTable');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a table. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitBold"></a>function DocVisitor.visitBold(contents: array)<script>explorer.outline.addDecl('DocVisitor.visitBold');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits an bold text span. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitEmphasis"></a>function DocVisitor.visitEmphasis(contents: array)<script>explorer.outline.addDecl('DocVisitor.visitEmphasis');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits an emphasis text span. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitLink"></a>function DocVisitor.visitLink(link: string, contents: array)<script>explorer.outline.addDecl('DocVisitor.visitLink');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a link text span. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitStrikethrough"></a>function DocVisitor.visitStrikethrough(contents: array)<script>explorer.outline.addDecl('DocVisitor.visitStrikethrough');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits an strikethrough text span. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitSubscript"></a>function DocVisitor.visitSubscript(contents: array)<script>explorer.outline.addDecl('DocVisitor.visitSubscript');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a subscript text span. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitSuperscript"></a>function DocVisitor.visitSuperscript(contents: array)<script>explorer.outline.addDecl('DocVisitor.visitSuperscript');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a superscript text span. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitMonospace"></a>function DocVisitor.visitMonospace(contents: array)<script>explorer.outline.addDecl('DocVisitor.visitMonospace');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a monospace text span. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitUnderline"></a>function DocVisitor.visitUnderline(contents: array)<script>explorer.outline.addDecl('DocVisitor.visitUnderline');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits an underline text span. Must be overridden.</p></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="DocVisitor.visitCustomSpan"></a>function DocVisitor.visitCustomSpan(type: string, contents: array)<script>explorer.outline.addDecl('DocVisitor.visitCustomSpan');</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Visits a custom text span. Must be overridden.</p></dd></dl><script>explorer.outline.decSymbolLevel();</script></dd></dl><script>explorer.outline.decSymbolLevel();</script>	</div><div id="docfooter">		HTML and JavaScript source derived from 		<img src="candydoc/img/candydoc.gif" style="vertical-align:middle; position:relative; top:-1px">		by Victor Nakoryakov; Page generated on 12 Oct 2014 15:09:57	</div></div><script>	explorer.packageExplorer.addModuleFull("array");	explorer.packageExplorer.addModuleFull("ascii");	explorer.packageExplorer.addModuleFull("compiler");	explorer.packageExplorer.addModuleFull("console");	explorer.packageExplorer.addModuleFull("debug");	explorer.packageExplorer.addModuleFull("devil");	explorer.packageExplorer.addModuleFull("docs");	explorer.packageExplorer.addModuleFull("doctools.console");	explorer.packageExplorer.addModuleFull("doctools.output");	explorer.packageExplorer.addModuleFull("doctools.trac");	explorer.packageExplorer.addModuleFull("env");	explorer.packageExplorer.addModuleFull("exceptions");	explorer.packageExplorer.addModuleFull("file");	explorer.packageExplorer.addModuleFull("gc");	explorer.packageExplorer.addModuleFull("gl");	explorer.packageExplorer.addModuleFull("glfw");	explorer.packageExplorer.addModuleFull("hash");	explorer.packageExplorer.addModuleFull("json");	explorer.packageExplorer.addModuleFull("math");	explorer.packageExplorer.addModuleFull("memblock");	explorer.packageExplorer.addModuleFull("misc");	explorer.packageExplorer.addModuleFull("modules");	explorer.packageExplorer.addModuleFull("object");	explorer.packageExplorer.addModuleFull("openal");	explorer.packageExplorer.addModuleFull("os");	explorer.packageExplorer.addModuleFull("path");	explorer.packageExplorer.addModuleFull("pcre");	explorer.packageExplorer.addModuleFull("repl");	explorer.packageExplorer.addModuleFull("serialization");	explorer.packageExplorer.addModuleFull("stream");	explorer.packageExplorer.addModuleFull("string");	explorer.packageExplorer.addModuleFull("text");	explorer.packageExplorer.addModuleFull("thread");	explorer.packageExplorer.addModuleFull("time");</script></div></body></html>