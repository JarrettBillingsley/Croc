<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="text/javascript" http-equiv="content-script-type"><title>module json</title><link rel="stylesheet" type="text/css" href="candydoc/style.css"><link rel="stylesheet" type="text/css" href="candydoc/code.css"><script language="JavaScript" src="candydoc/util.js" type="text/javascript"></script><script language="JavaScript" src="candydoc/tree.js" type="text/javascript"></script><script language="JavaScript" src="candydoc/explorer.js" type="text/javascript"></script></head><body><div id="everything"><div id="tabarea"></div><div id="explorerclient"></div><div id="content"><script>explorer.initialize("json");</script>	<img src="candydoc/img/banner.gif" alt="The Croc Programming Language"></img>	<div id="docbody">		<h1>module json</h1><p><a href="http://en.wikipedia.org/wiki/JSON">JSON</a> is a standard for structured data interchange based on the JavaScript object notation. This library allows you to convert to and from JSON.</p><script>explorer.outline.incSymbolLevel();</script><dl><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="fromJSON"></a>global function fromJSON(j: string)<script>explorer.outline.addDecl("fromJSON");</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Parses the JSON <tt>j</tt> into a Croc representation using null, bool, int, float, string, table, and array.</p><p>The string must contain well-formed JSON, and the root object must be a JSON object or array. There must be no extra data after the root object either.</p><p>This parser is strictly conforming; all object keys must be quoted and there can be no spurious commas. Sadly.</p><p><strong>Returns:</strong> <p>the root object.</p><p><strong>Throws:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px"><a href="exceptions.html#LexicalException">LexicalException</a></td><td><p>if there are lexical errors in <tt>j</tt>.</p></td></tr><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px"><a href="exceptions.html#SyntaxException">SyntaxException</a></td><td><p>if there are syntactic errors in <tt>j</tt>.</p></td></tr></table></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="toJSON"></a>global function toJSON(root, pretty: bool = false)<script>explorer.outline.addDecl("toJSON");</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Converts <tt>root</tt> to a JSON string representation and returns that string.</p><p>If you want to send JSON to a stream of some kind, have a look at <a href="json.html#writeJSON">writeJSON</a>.</p><p><strong>Params:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">root</td><td><p>must (currently) be a table or array, and must recursively contain only null, bool, int, float, string, table, and array values. Any circularly-referenced objects will be detected and throw an exception.</p></td></tr><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px">pretty</td><td><p>controls whether or not whitespace and newlines are inserted into the output. If it's <tt>false</tt>, there will be as little whitespace as possible and no newlines. If it's <tt>true</tt>, newlines, whitespace, and indentation will be inserted to make it at least somewhat human-readable.</p></td></tr></table><p><strong>Throws:</strong> <table class="params"><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px"><a href="exceptions.html#TypeError">TypeError</a></td><td><p>if <tt>root</tt> is not a table or array, or if any non-convertible types are found during conversion.</p></td></tr><tr><td class="paramname" nowrap valign="top" style="padding-right: 8px"><a href="exceptions.html#ValueError">ValueError</a></td><td><p>if the object graph is invalid somehow.</p></td></tr></table></dd><script>explorer.outline.writeEnabled = true;</script><dt><span class="decl"><a id="writeJSON"></a>global function writeJSON(dest, root, pretty: bool = false)<script>explorer.outline.addDecl("writeJSON");</script></span><script>explorer.outline.writeEnabled = false;</script></dt><dd><p>Like <a href="json.html#toJSON">toJSON</a>, but instead of returning a string, it calls methods of <tt>dest</tt> to output the JSON.</p><p><tt>dest</tt> can be any type which satisfies this interface:</p><p><ul><li><p>It must have a method <tt>write</tt> which will always be called with a single string parameter.</p></li><li><p>It must have a method <tt>writeln</tt> which will always be called without any parameters. This will only be called if the <tt>pretty</tt> parameter is <tt>true</tt>.</p></li></ul></p><p>The <a href="stream.html#TextWriter">stream.TextWriter</a> class satisfies this interface, but you can use any object which does.</p></dd></dl><script>explorer.outline.decSymbolLevel();</script>	</div><div id="docfooter">		HTML and JavaScript source derived from 		<img src="candydoc/img/candydoc.gif" style="vertical-align:middle; position:relative; top:-1px">		by Victor Nakoryakov; Page generated on 15 Nov 2014 10:28:14	</div></div><script>	explorer.packageExplorer.addModuleFull("array");	explorer.packageExplorer.addModuleFull("ascii");	explorer.packageExplorer.addModuleFull("compiler");	explorer.packageExplorer.addModuleFull("console");	explorer.packageExplorer.addModuleFull("debug");	explorer.packageExplorer.addModuleFull("devil");	explorer.packageExplorer.addModuleFull("docs");	explorer.packageExplorer.addModuleFull("doctools.console");	explorer.packageExplorer.addModuleFull("doctools.output");	explorer.packageExplorer.addModuleFull("doctools.trac");	explorer.packageExplorer.addModuleFull("env");	explorer.packageExplorer.addModuleFull("exceptions");	explorer.packageExplorer.addModuleFull("file");	explorer.packageExplorer.addModuleFull("gc");	explorer.packageExplorer.addModuleFull("gl");	explorer.packageExplorer.addModuleFull("glfw");	explorer.packageExplorer.addModuleFull("hash");	explorer.packageExplorer.addModuleFull("imgui");	explorer.packageExplorer.addModuleFull("json");	explorer.packageExplorer.addModuleFull("math");	explorer.packageExplorer.addModuleFull("memblock");	explorer.packageExplorer.addModuleFull("modules");	explorer.packageExplorer.addModuleFull("object");	explorer.packageExplorer.addModuleFull("openal");	explorer.packageExplorer.addModuleFull("os");	explorer.packageExplorer.addModuleFull("path");	explorer.packageExplorer.addModuleFull("pcre");	explorer.packageExplorer.addModuleFull("repl");	explorer.packageExplorer.addModuleFull("serialization");	explorer.packageExplorer.addModuleFull("stream");	explorer.packageExplorer.addModuleFull("string");	explorer.packageExplorer.addModuleFull("text");	explorer.packageExplorer.addModuleFull("thread");	explorer.packageExplorer.addModuleFull("time");</script></div></body></html>