<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Croc: Compiler</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="crocstyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="container">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<img src="http://jfbillingsley.com/croc/chrome/site/banner.gif" alt="The Croc Programming Language" />
<!-- <table cellspacing="0" cellpadding="0"> -->
 <!-- <tbody> -->
 <!-- <tr style="height: 56px;"> -->
  <!-- <td style="padding-left: 0.5em;"> -->
   <!-- <div id="projectname">Croc -->
   <!-- </div> -->
   <!--<div id="projectbrief">The Croc Programming Language</div>-->
  <!-- </td> -->
 <!-- </tr> -->
 <!-- </tbody> -->
<!-- </table> -->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>API</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Compiler<div class="ingroups"><a class="el" href="group___a_p_i.html">API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa56df549362f756ebfe5774080c06430"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#gaa56df549362f756ebfe5774080c06430">croc_compiler_compileModuleEx</a>(t, name, modName)</td></tr>
<tr class="separator:gaa56df549362f756ebfe5774080c06430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86f3635425b043aab8efde6077fbe1bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#ga86f3635425b043aab8efde6077fbe1bb">croc_compiler_compileStmtsEx</a>(t, name)</td></tr>
<tr class="separator:ga86f3635425b043aab8efde6077fbe1bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa42c9184c428a2d667808b89c7fb48d9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#gaa42c9184c428a2d667808b89c7fb48d9">croc_compiler_compileExprEx</a>(t, name)</td></tr>
<tr class="separator:gaa42c9184c428a2d667808b89c7fb48d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga62710a7b0c38c4c4e234e319e9f68d1c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#ga62710a7b0c38c4c4e234e319e9f68d1c">croc_compiler_compileModuleDTEx</a>(t, name, modName)</td></tr>
<tr class="separator:ga62710a7b0c38c4c4e234e319e9f68d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d9de0993d73132359096a552d4aa7ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#ga2d9de0993d73132359096a552d4aa7ec">croc_compiler_compileStmtsDTEx</a>(t, name)</td></tr>
<tr class="separator:ga2d9de0993d73132359096a552d4aa7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga54ed9f56241299e677d5330f59acd66c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#ga54ed9f56241299e677d5330f59acd66c">croc_compiler_setFlags</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, <a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a> flags)</td></tr>
<tr class="separator:ga54ed9f56241299e677d5330f59acd66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga388d11d3126278a6df238458774d75f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#ga388d11d3126278a6df238458774d75f4">croc_compiler_getFlags</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t)</td></tr>
<tr class="separator:ga388d11d3126278a6df238458774d75f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c0deafee9a06c3e42e167642e43384a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#ga7c0deafee9a06c3e42e167642e43384a">croc_compiler_compileModule</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, const char *name, const char **modName)</td></tr>
<tr class="separator:ga7c0deafee9a06c3e42e167642e43384a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09b0091f0d00bb1c3050b713a894d9dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#ga09b0091f0d00bb1c3050b713a894d9dd">croc_compiler_compileStmts</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, const char *name)</td></tr>
<tr class="separator:ga09b0091f0d00bb1c3050b713a894d9dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20e63a288a574c16006343af70b24fc8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#ga20e63a288a574c16006343af70b24fc8">croc_compiler_compileExpr</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, const char *name)</td></tr>
<tr class="separator:ga20e63a288a574c16006343af70b24fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8848de9441c1680242c770edfc33b00b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#ga8848de9441c1680242c770edfc33b00b">croc_compiler_compileModuleDT</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, const char *name, const char **modName)</td></tr>
<tr class="separator:ga8848de9441c1680242c770edfc33b00b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9debb839462a37dc8ad0a72b75d98f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#gab9debb839462a37dc8ad0a72b75d98f9">croc_compiler_compileStmtsDT</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, const char *name)</td></tr>
<tr class="separator:gab9debb839462a37dc8ad0a72b75d98f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2cd8f828f84c6d1d4b1c048cb048677a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#ga2cd8f828f84c6d1d4b1c048cb048677a">croc_compiler_processDocComment</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t)</td></tr>
<tr class="separator:ga2cd8f828f84c6d1d4b1c048cb048677a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad34504d467a7ff8de91aa6c3a4a05100"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___compiler.html#gad34504d467a7ff8de91aa6c3a4a05100">croc_compiler_parseDocCommentText</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t)</td></tr>
<tr class="separator:gad34504d467a7ff8de91aa6c3a4a05100"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The interface to the Croc compiler. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gaa56df549362f756ebfe5774080c06430"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define croc_compiler_compileModuleEx</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">modName&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {<a class="code" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">\</a></div>
<div class="line"><a class="code" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">		CrocThread</a>* _compilerThread_ = (t);\</div>
<div class="line">        if(<a class="code" href="group___compiler.html#ga7c0deafee9a06c3e42e167642e43384a">croc_compiler_compileModule</a>(_compilerThread_, (name), (modName)) &lt; 0)<a class="code" href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">\</a></div>
<div class="line"><a class="code" href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">			croc_eh_throw</a>(_compilerThread_);\</div>
<div class="line">    } <span class="keywordflow">while</span>(0)</div>
<div class="ttc" id="group___a_p_i_types_html_ga6a1f60650d3a078e26815cda6fd01d18"><div class="ttname"><a href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a></div><div class="ttdeci">struct CrocThread CrocThread</div><div class="ttdoc">An opaque type that represents a Croc thread. </div><div class="ttdef"><b>Definition:</b> apitypes.h:26</div></div>
<div class="ttc" id="group___e_h_html_ga88ba16880d1349514886e02dfc9731a1"><div class="ttname"><a href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">croc_eh_throw</a></div><div class="ttdeci">word_t croc_eh_throw(CrocThread *t)</div><div class="ttdoc">Throws the value on top of the stack as an exception. </div><div class="ttdef"><b>Definition:</b> eh.cpp:27</div></div>
<div class="ttc" id="group___compiler_html_ga7c0deafee9a06c3e42e167642e43384a"><div class="ttname"><a href="group___compiler.html#ga7c0deafee9a06c3e42e167642e43384a">croc_compiler_compileModule</a></div><div class="ttdeci">int croc_compiler_compileModule(CrocThread *t, const char *name, const char **modName)</div><div class="ttdoc">Compiles the module whose source is a string on top of the stack. </div><div class="ttdef"><b>Definition:</b> compiler.cpp:136</div></div>
</div><!-- fragment -->
<p>Like <a class="el" href="group___compiler.html#ga7c0deafee9a06c3e42e167642e43384a">croc_compiler_compileModule</a>, but if compilation failed, rethrows the exception. </p>
<p>Also returns nothing. </p>

</div>
</div>
<a class="anchor" id="ga86f3635425b043aab8efde6077fbe1bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define croc_compiler_compileStmtsEx</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {<a class="code" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">\</a></div>
<div class="line"><a class="code" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">		CrocThread</a>* _compilerThread_ = (t);\</div>
<div class="line">        if(<a class="code" href="group___compiler.html#ga09b0091f0d00bb1c3050b713a894d9dd">croc_compiler_compileStmts</a>(_compilerThread_, (name)) &lt; 0)<a class="code" href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">\</a></div>
<div class="line"><a class="code" href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">			croc_eh_throw</a>(_compilerThread_);\</div>
<div class="line">    } <span class="keywordflow">while</span>(0)</div>
<div class="ttc" id="group___a_p_i_types_html_ga6a1f60650d3a078e26815cda6fd01d18"><div class="ttname"><a href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a></div><div class="ttdeci">struct CrocThread CrocThread</div><div class="ttdoc">An opaque type that represents a Croc thread. </div><div class="ttdef"><b>Definition:</b> apitypes.h:26</div></div>
<div class="ttc" id="group___compiler_html_ga09b0091f0d00bb1c3050b713a894d9dd"><div class="ttname"><a href="group___compiler.html#ga09b0091f0d00bb1c3050b713a894d9dd">croc_compiler_compileStmts</a></div><div class="ttdeci">int croc_compiler_compileStmts(CrocThread *t, const char *name)</div><div class="ttdoc">Very similar to croc_compiler_compileModule, but the source will be parsed as a list of statements wi...</div><div class="ttdef"><b>Definition:</b> compiler.cpp:145</div></div>
<div class="ttc" id="group___e_h_html_ga88ba16880d1349514886e02dfc9731a1"><div class="ttname"><a href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">croc_eh_throw</a></div><div class="ttdeci">word_t croc_eh_throw(CrocThread *t)</div><div class="ttdoc">Throws the value on top of the stack as an exception. </div><div class="ttdef"><b>Definition:</b> eh.cpp:27</div></div>
</div><!-- fragment -->
<p>Like <a class="el" href="group___compiler.html#ga09b0091f0d00bb1c3050b713a894d9dd">croc_compiler_compileStmts</a>, but if compilation failed, rethrows the exception. </p>
<p>Also returns nothing. </p>

</div>
</div>
<a class="anchor" id="gaa42c9184c428a2d667808b89c7fb48d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define croc_compiler_compileExprEx</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {<a class="code" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">\</a></div>
<div class="line"><a class="code" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">		CrocThread</a>* _compilerThread_ = (t);\</div>
<div class="line">        if(<a class="code" href="group___compiler.html#ga20e63a288a574c16006343af70b24fc8">croc_compiler_compileExpr</a>(_compilerThread_, (name)) &lt; 0)<a class="code" href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">\</a></div>
<div class="line"><a class="code" href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">			croc_eh_throw</a>(_compilerThread_);\</div>
<div class="line">    } <span class="keywordflow">while</span>(0)</div>
<div class="ttc" id="group___a_p_i_types_html_ga6a1f60650d3a078e26815cda6fd01d18"><div class="ttname"><a href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a></div><div class="ttdeci">struct CrocThread CrocThread</div><div class="ttdoc">An opaque type that represents a Croc thread. </div><div class="ttdef"><b>Definition:</b> apitypes.h:26</div></div>
<div class="ttc" id="group___e_h_html_ga88ba16880d1349514886e02dfc9731a1"><div class="ttname"><a href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">croc_eh_throw</a></div><div class="ttdeci">word_t croc_eh_throw(CrocThread *t)</div><div class="ttdoc">Throws the value on top of the stack as an exception. </div><div class="ttdef"><b>Definition:</b> eh.cpp:27</div></div>
<div class="ttc" id="group___compiler_html_ga20e63a288a574c16006343af70b24fc8"><div class="ttname"><a href="group___compiler.html#ga20e63a288a574c16006343af70b24fc8">croc_compiler_compileExpr</a></div><div class="ttdeci">int croc_compiler_compileExpr(CrocThread *t, const char *name)</div><div class="ttdoc">Compiles a single Croc expression as a string on top of the stack into a funcdef which takes variadic...</div><div class="ttdef"><b>Definition:</b> compiler.cpp:181</div></div>
</div><!-- fragment -->
<p>Like <a class="el" href="group___compiler.html#ga20e63a288a574c16006343af70b24fc8">croc_compiler_compileExpr</a>, but if compilation failed, rethrows the exception. </p>
<p>Also returns nothing. </p>

</div>
</div>
<a class="anchor" id="ga62710a7b0c38c4c4e234e319e9f68d1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define croc_compiler_compileModuleDTEx</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">modName&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {<a class="code" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">\</a></div>
<div class="line"><a class="code" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">		CrocThread</a>* _compilerThread_ = (t);\</div>
<div class="line">        if(<a class="code" href="group___compiler.html#ga8848de9441c1680242c770edfc33b00b">croc_compiler_compileModuleDT</a>(_compilerThread_, (name), (modName)) &lt; 0)<a class="code" href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">\</a></div>
<div class="line"><a class="code" href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">			croc_eh_throw</a>(_compilerThread_);\</div>
<div class="line">    } <span class="keywordflow">while</span>(0)</div>
<div class="ttc" id="group___a_p_i_types_html_ga6a1f60650d3a078e26815cda6fd01d18"><div class="ttname"><a href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a></div><div class="ttdeci">struct CrocThread CrocThread</div><div class="ttdoc">An opaque type that represents a Croc thread. </div><div class="ttdef"><b>Definition:</b> apitypes.h:26</div></div>
<div class="ttc" id="group___e_h_html_ga88ba16880d1349514886e02dfc9731a1"><div class="ttname"><a href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">croc_eh_throw</a></div><div class="ttdeci">word_t croc_eh_throw(CrocThread *t)</div><div class="ttdoc">Throws the value on top of the stack as an exception. </div><div class="ttdef"><b>Definition:</b> eh.cpp:27</div></div>
<div class="ttc" id="group___compiler_html_ga8848de9441c1680242c770edfc33b00b"><div class="ttname"><a href="group___compiler.html#ga8848de9441c1680242c770edfc33b00b">croc_compiler_compileModuleDT</a></div><div class="ttdeci">int croc_compiler_compileModuleDT(CrocThread *t, const char *name, const char **modName)</div><div class="ttdoc">Similar to croc_compiler_compileModule, but additionally extracts the module&#39;s top-level documentatio...</div><div class="ttdef"><b>Definition:</b> compiler.cpp:162</div></div>
</div><!-- fragment -->
<p>Like <a class="el" href="group___compiler.html#ga8848de9441c1680242c770edfc33b00b">croc_compiler_compileModuleDT</a>, but if compilation failed, rethrows the exception. </p>
<p>Also returns nothing. </p>

</div>
</div>
<a class="anchor" id="ga2d9de0993d73132359096a552d4aa7ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define croc_compiler_compileStmtsDTEx</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {<a class="code" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">\</a></div>
<div class="line"><a class="code" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">		CrocThread</a>* _compilerThread_ = (t);\</div>
<div class="line">        if(<a class="code" href="group___compiler.html#gab9debb839462a37dc8ad0a72b75d98f9">croc_compiler_compileStmtsDT</a>(_compilerThread_, (name)) &lt; 0)<a class="code" href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">\</a></div>
<div class="line"><a class="code" href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">			croc_eh_throw</a>(_compilerThread_);\</div>
<div class="line">    } <span class="keywordflow">while</span>(0)</div>
<div class="ttc" id="group___a_p_i_types_html_ga6a1f60650d3a078e26815cda6fd01d18"><div class="ttname"><a href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a></div><div class="ttdeci">struct CrocThread CrocThread</div><div class="ttdoc">An opaque type that represents a Croc thread. </div><div class="ttdef"><b>Definition:</b> apitypes.h:26</div></div>
<div class="ttc" id="group___e_h_html_ga88ba16880d1349514886e02dfc9731a1"><div class="ttname"><a href="group___e_h.html#ga88ba16880d1349514886e02dfc9731a1">croc_eh_throw</a></div><div class="ttdeci">word_t croc_eh_throw(CrocThread *t)</div><div class="ttdoc">Throws the value on top of the stack as an exception. </div><div class="ttdef"><b>Definition:</b> eh.cpp:27</div></div>
<div class="ttc" id="group___compiler_html_gab9debb839462a37dc8ad0a72b75d98f9"><div class="ttname"><a href="group___compiler.html#gab9debb839462a37dc8ad0a72b75d98f9">croc_compiler_compileStmtsDT</a></div><div class="ttdeci">int croc_compiler_compileStmtsDT(CrocThread *t, const char *name)</div><div class="ttdoc">Just like croc_compiler_compileStmts, but extracts the top-level documentation table like croc_compil...</div><div class="ttdef"><b>Definition:</b> compiler.cpp:171</div></div>
</div><!-- fragment -->
<p>Like <a class="el" href="group___compiler.html#gab9debb839462a37dc8ad0a72b75d98f9">croc_compiler_compileStmtsDT</a>, but if compilation failed, rethrows the exception. </p>
<p>Also returns nothing. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga54ed9f56241299e677d5330f59acd66c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a> croc_compiler_setFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable and disable VM-wide compiler flags. </p>
<p>These control whether or not code is generated for various optional language features.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td><p class="starttd">must be an or-ing together of the members of the <a class="el" href="group___a_p_i_types.html#ga1fe8621bcc30d8266f820174ac116231">CrocCompilerFlags</a> enum. The flags are as follows:</p>
<ul>
<li><a class="el" href="group___a_p_i_types.html#gga1fe8621bcc30d8266f820174ac116231a0ad174ff537b85d235ace096df156d59">CrocCompilerFlags_TypeConstraints</a> enables code generation for parameter type constraints. If you leave out this flag, no parameter typechecking is done when calling functions.</li>
<li><a class="el" href="group___a_p_i_types.html#gga1fe8621bcc30d8266f820174ac116231ae5c4a7b5d6462385a8aa892463699ede">CrocCompilerFlags_Asserts</a> enables code generation for <code>assert()</code> statements. If you leave out this flag, assert statements become no-ops.</li>
<li><a class="el" href="group___a_p_i_types.html#gga1fe8621bcc30d8266f820174ac116231a7331b1b45530eb292ab21de5a85c0c1d">CrocCompilerFlags_Debug</a> enables outputting debug info (which includes line numbers, local variable info, and upvalue names). If you leave out this flag, no debug info will be emitted, saving space at the cost of worse error messages/tracebacks. <b><em>This flag does not yet work properly.</em> Debug info is always on.</b></li>
<li><a class="el" href="group___a_p_i_types.html#gga1fe8621bcc30d8266f820174ac116231a9ed66f501f045cbf4102debb60c24248">CrocCompilerFlags_Docs</a> will cause the compiler to parse documentation comments and place doc decorators on the program items they document, meaning run-time accessible documentation will be available. If you leave out this flag, doc comments are ignored (unless you use one of the DT compilation functions below).</li>
<li><a class="el" href="group___a_p_i_types.html#gga1fe8621bcc30d8266f820174ac116231a113e91ab75a070d3721331210423936e">CrocCompilerFlags_All</a> enables all features except runtime docs. This is the default setting.</li>
<li><a class="el" href="group___a_p_i_types.html#gga1fe8621bcc30d8266f820174ac116231a9024d640b2e32b98c2c7da0f71cd2d67">CrocCompilerFlags_AllDocs</a> enables all optional features. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><p class="startdd">the previous value of the compiler flags. This is so you can set the flags, compile something, then put the flags back the way they were, like so:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> oldFlags;</div>
<div class="line"></div>
<div class="line">oldFlags = <a class="code" href="group___compiler.html#ga54ed9f56241299e677d5330f59acd66c">croc_compiler_setFlags</a>(t, <a class="code" href="group___a_p_i_types.html#gga1fe8621bcc30d8266f820174ac116231a9024d640b2e32b98c2c7da0f71cd2d67">CrocCompilerFlags_AllDocs</a>);</div>
<div class="line"><span class="comment">// compile some code here...</span></div>
<div class="line"><a class="code" href="group___compiler.html#ga54ed9f56241299e677d5330f59acd66c">croc_compiler_setFlags</a>(t, oldFlags); <span class="comment">// restore them</span></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga388d11d3126278a6df238458774d75f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a> croc_compiler_getFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the current VM-wide compiler flags as described in <a class="el" href="group___compiler.html#ga54ed9f56241299e677d5330f59acd66c">croc_compiler_setFlags</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7c0deafee9a06c3e42e167642e43384a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int croc_compiler_compileModule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>modName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compiles the module whose source is a string on top of the stack. </p>
<p>The top slot will be replaced with the result of compilation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">name</td><td>is the filename that will be used in locations such as compilation errors and debug info. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">modName</td><td>is required, and will be assigned a string which is the name of the module as given in the module's <code>'module'</code> statement. You can use this to see if the module name matches the name it was imported as. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><p class="startdd">different things depending on whether compilation was successful or not.</p>
<p>If it was successful, returns a positive stack slot of the resulting function definition, which will have replaced the source code on top of the stack.</p>
<p>If it failed, returns one of the <a class="el" href="group___a_p_i_types.html#ga810137b8090e55ea5816c35325869c9d">CrocCompilerReturn</a> values explaining why compilation failed. In this case, the source on top of the stack will be replaced with an exception object which you can then rethrow if you want to.</p>
<p class="enddd">If you don't care about handling compilation failure, use <a class="el" href="group___compiler.html#gaa56df549362f756ebfe5774080c06430">croc_compiler_compileModuleEx</a> instead. </p>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga09b0091f0d00bb1c3050b713a894d9dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int croc_compiler_compileStmts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Very similar to <a class="el" href="group___compiler.html#ga7c0deafee9a06c3e42e167642e43384a">croc_compiler_compileModule</a>, but the source will be parsed as a list of statements without a <code>'module'</code> statement at the beginning. </p>
<p>There is no <code>modName</code> parameter as a result.</p>
<p>If you don't care about handling compilation failure, use <a class="el" href="group___compiler.html#ga86f3635425b043aab8efde6077fbe1bb">croc_compiler_compileStmtsEx</a> instead. </p>

</div>
</div>
<a class="anchor" id="ga20e63a288a574c16006343af70b24fc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int croc_compiler_compileExpr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compiles a single Croc expression as a string on top of the stack into a funcdef which takes variadic arguments and returns the result of evaluating that expression. </p>
<p>Just like with the other compilation functions, the source stack slot is replaced by either the funcdef on success or the exception object on failure.</p>
<p>If you don't care about handling compilation failure, use <a class="el" href="group___compiler.html#gaa42c9184c428a2d667808b89c7fb48d9">croc_compiler_compileExprEx</a> instead. </p>

</div>
</div>
<a class="anchor" id="ga8848de9441c1680242c770edfc33b00b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int croc_compiler_compileModuleDT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>modName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Similar to <a class="el" href="group___compiler.html#ga7c0deafee9a06c3e42e167642e43384a">croc_compiler_compileModule</a>, but additionally extracts the module's top-level documentation table as described in the spec. </p>
<p>When you use this function, doc comments are parsed and turned into doctables, regardless of whether the compiler's CrocCompilerFlags_Docs flag is enabled. The CrocCompilerFlags_Docs compiler flag only controls whether or not runtime doc decorators are attached to program items.</p>
<dl class="section return"><dt>Returns</dt><dd>a positive number if compilation succeeded. In this case, there will be <em>two</em> items on top of the stack: the module's funcdef on top, and the doc table below it. In case of failure, there will only be one value, the exception object, just like <a class="el" href="group___compiler.html#ga7c0deafee9a06c3e42e167642e43384a">croc_compiler_compileModule</a>.</dd></dl>
<p>If you don't care about handling compilation failure, use <a class="el" href="group___compiler.html#ga62710a7b0c38c4c4e234e319e9f68d1c">croc_compiler_compileModuleDTEx</a> instead. </p>

</div>
</div>
<a class="anchor" id="gab9debb839462a37dc8ad0a72b75d98f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int croc_compiler_compileStmtsDT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Just like <a class="el" href="group___compiler.html#ga09b0091f0d00bb1c3050b713a894d9dd">croc_compiler_compileStmts</a>, but extracts the top-level documentation table like <a class="el" href="group___compiler.html#ga8848de9441c1680242c770edfc33b00b">croc_compiler_compileModuleDT</a>, leaving it on the stack under the funcdef the same way. </p>
<p>If you don't care about handling compilation failure, use <a class="el" href="group___compiler.html#ga2d9de0993d73132359096a552d4aa7ec">croc_compiler_compileStmtsDTEx</a> instead. </p>

</div>
</div>
<a class="anchor" id="ga2cd8f828f84c6d1d4b1c048cb048677a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a> croc_compiler_processDocComment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a low-level interface to the documentation comment parser. </p>
<p>It expects two values on top of the stack: the doc comment text as a string on top, and a doctable below it which only has the members <code>"file"</code>, <code>"line"</code>, <code>"kind"</code>, and <code>"name"</code> filled in. It will parse the doc comment, filling in the other fields of the doctable. The comment source will then be popped, leaving just the doctable on top of the stack.</p>
<dl class="section return"><dt>Returns</dt><dd>the stack index of the doctable. </dd></dl>

</div>
</div>
<a class="anchor" id="gad34504d467a7ff8de91aa6c3a4a05100"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a> croc_compiler_parseDocCommentText </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expects a string on top of the stack which will be parsed into a doc comment paragraph list. </p>
<p>This doesn't actually parse a whole doc comment like <a class="el" href="group___compiler.html#ga2cd8f828f84c6d1d4b1c048cb048677a">croc_compiler_processDocComment</a> does, so section commands are not allowed, but span and structure commands are.</p>
<p>The source slot will be replaced by the resulting paragraph list (an array as described in the doc comment spec).</p>
<dl class="section return"><dt>Returns</dt><dd>the stack index of the result. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Oct 18 2014 11:19:00 for Croc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</div> <!-- container -->
</body>
</html>
