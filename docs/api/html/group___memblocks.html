<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Croc: Memblocks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="crocstyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="container">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<img src="http://jfbillingsley.com/croc/chrome/site/banner.gif" alt="The Croc Programming Language" />
<!-- <table cellspacing="0" cellpadding="0"> -->
 <!-- <tbody> -->
 <!-- <tr style="height: 56px;"> -->
  <!-- <td style="padding-left: 0.5em;"> -->
   <!-- <div id="projectname">Croc -->
   <!-- </div> -->
   <!--<div id="projectbrief">The Croc Programming Language</div>-->
  <!-- </td> -->
 <!-- </tr> -->
 <!-- </tbody> -->
<!-- </table> -->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>API</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Memblocks<div class="ingroups"><a class="el" href="group___a_p_i.html">API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga03b177de1269698e5f220693100cdccc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___memblocks.html#ga03b177de1269698e5f220693100cdccc">croc_memblock_new</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, <a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a> len)</td></tr>
<tr class="separator:ga03b177de1269698e5f220693100cdccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad45661ef7612f4c321b7a588fdb8e8c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___memblocks.html#gad45661ef7612f4c321b7a588fdb8e8c3">croc_memblock_fromNativeArray</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, void *arr, <a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a> arrLen)</td></tr>
<tr class="separator:gad45661ef7612f4c321b7a588fdb8e8c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5dbdf4c3322ceaf7eeef91fe6ada1eb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___memblocks.html#ga5dbdf4c3322ceaf7eeef91fe6ada1eb8">croc_memblock_viewNativeArray</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, void *arr, <a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a> arrLen)</td></tr>
<tr class="separator:ga5dbdf4c3322ceaf7eeef91fe6ada1eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6dd98e15f44d5004a83b1744e61de3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___memblocks.html#gad6dd98e15f44d5004a83b1744e61de3f">croc_memblock_reviewNativeArray</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, <a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a> slot, void *arr, <a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a> arrLen)</td></tr>
<tr class="separator:gad6dd98e15f44d5004a83b1744e61de3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7dda1fe2c6baf768c3b274b27e68aafb"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___memblocks.html#ga7dda1fe2c6baf768c3b274b27e68aafb">croc_memblock_getData</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, <a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a> slot)</td></tr>
<tr class="separator:ga7dda1fe2c6baf768c3b274b27e68aafb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab30073d1e3fc9a8e08fb55d9dc25628a"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___memblocks.html#gab30073d1e3fc9a8e08fb55d9dc25628a">croc_memblock_getDatan</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, <a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a> slot, <a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a> *len)</td></tr>
<tr class="separator:gab30073d1e3fc9a8e08fb55d9dc25628a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54573696d47a54b1d98974068af70082"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___memblocks.html#ga54573696d47a54b1d98974068af70082">croc_memblock_ownData</a> (<a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *t, <a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a> slot)</td></tr>
<tr class="separator:ga54573696d47a54b1d98974068af70082"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions which operate on memblocks. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga03b177de1269698e5f220693100cdccc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a> croc_memblock_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and pushes a new memblock object that is <code>len</code> bytes long. </p>
<dl class="section return"><dt>Returns</dt><dd>the stack index of the pushed value. </dd></dl>

</div>
</div>
<a class="anchor" id="gad45661ef7612f4c321b7a588fdb8e8c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a> croc_memblock_fromNativeArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a>&#160;</td>
          <td class="paramname"><em>arrLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and pushes a new memblock whose data is a <em>copy</em> of the given array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>is the pointer to the array. </td></tr>
    <tr><td class="paramname">arrLen</td><td>is the length of the array, in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the stack index of the pushed value. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5dbdf4c3322ceaf7eeef91fe6ada1eb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a> croc_memblock_viewNativeArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a>&#160;</td>
          <td class="paramname"><em>arrLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and pushes a new memblock object that is a view of the given array. </p>
<p>The memblock will not own its data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>is the pointer to the array. <b>It is your responsibility to keep this array around as long as the memblock which views it exists. </b> </td></tr>
    <tr><td class="paramname">arrLen</td><td>is the length of the array, in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the stack index of the pushed value. </dd></dl>

</div>
</div>
<a class="anchor" id="gad6dd98e15f44d5004a83b1744e61de3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void croc_memblock_reviewNativeArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a>&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a>&#160;</td>
          <td class="paramname"><em>arrLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Same as <a class="el" href="group___memblocks.html#ga5dbdf4c3322ceaf7eeef91fe6ada1eb8">croc_memblock_viewNativeArray</a>, except instead of creating a new memblock, it changes an existing memblock at <code>slot</code> so that its data points to the native array. </p>
<p>If the memblock had any data (and owned it), that data will be freed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>is the pointer to the array. <b>It is your responsibility to keep this array around as long as the memblock which views it exists. </b> </td></tr>
    <tr><td class="paramname">arrLen</td><td>is the length of the array, in bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7dda1fe2c6baf768c3b274b27e68aafb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* croc_memblock_getData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a>&#160;</td>
          <td class="paramname"><em>slot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the data of the memblock in the given <code>slot</code>. </p>
<p><b>The pointer returned from this may point into Croc's memory (if the memblock owns its data). You are allowed to modify the data at this pointer, but don't store it unless you know the memblock won't be collected!</b> </p>

</div>
</div>
<a class="anchor" id="gab30073d1e3fc9a8e08fb55d9dc25628a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* croc_memblock_getDatan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a>&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#gadcf7542809ee167fbe38441459138101">uword_t</a> *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Same as <a class="el" href="group___memblocks.html#ga7dda1fe2c6baf768c3b274b27e68aafb">croc_memblock_getData</a>, except it also returns the length of the memblock's data in bytes through the <code>len</code> parameter. </p>
<p><b>The pointer returned from this may point into Croc's memory (if the memblock owns its data). You are allowed to modify the data at this pointer, but don't store it unless you know the memblock won't be collected!</b> </p>

</div>
</div>
<a class="anchor" id="ga54573696d47a54b1d98974068af70082"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int croc_memblock_ownData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#ga6a1f60650d3a078e26815cda6fd01d18">CrocThread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_p_i_types.html#gab14ee9a38c2105a6776912612194c348">word_t</a>&#160;</td>
          <td class="paramname"><em>slot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>nonzero if the memblock at the given <code>slot</code> owns its data (it is allocated on the Croc heap). If this returns 0, it means the memblock is a view of a native array. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Oct 18 2014 11:19:00 for Croc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</div> <!-- container -->
</body>
</html>
